var j=Object.defineProperty;var A=(n,t,e)=>t in n?j(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var u=(n,t,e)=>(A(n,typeof t!="symbol"?t+"":t,e),e);import{G as P,B as w,M as f,a as l,V as O,W as E,b as G,S as k,C,g as F,O as D,P as I,c as v,A as B,D as K}from"./vendor.be1624a7.js";const N=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}};N();const o={x:null,y:null,z:null,initial:{x:null,y:null,z:null},ready:!1};function R(n){var t=n.beta,e=n.gamma,r=n.alpha;if(o.x=t,o.y=e,o.z=r,o.ready&&o.x!==null&&o.initial.x!==null&&o.y!==null&&o.initial.y!==null&&o.z!==null&&o.initial.z!==null){console.log("initial",o.initial.x,o.initial.y,o.initial.z),console.log("current",o.x,o.y,o.z);const i=o.initial.x-o.x,a=o.initial.y-o.y,s=o.initial.z-o.z;document.getElementById("debug").innerText=`${i.toFixed(2)} ${a.toFixed(2)} ${s.toFixed(2)}`}o.ready||(o.ready=!0,o.initial.x=t,o.initial.y=t,o.initial.z=t)}window.addEventListener("deviceorientation",R);const d={};window.addEventListener("keydown",function(n){d[n.code]=!0});window.addEventListener("keyup",function(n){d[n.code]=!1});const q=4,p=Math.PI/4;class H{constructor(){u(this,"object");u(this,"velocity",0);u(this,"accelleration",0);u(this,"turn",0);this.object=this.createObject()}update(t){d.KeyA?(this.turn=Math.min(p,this.turn+.1),this.turn=Math.max(-p,this.turn)):d.KeyD?(this.turn=Math.min(p,this.turn-.1),this.turn=Math.max(-p,this.turn)):(this.turn*=.8,Math.abs(this.turn)<.01&&(this.turn=0)),d.KeyW?this.accelleration=.1:d.KeyS?this.accelleration=-.1:(this.accelleration=0,this.velocity*=.95,Math.abs(this.velocity)<.01&&(this.velocity=0)),this.velocity=Math.min(q,this.velocity+this.accelleration),this.velocity!=0&&this.turn!=0&&this.object.rotateY(this.turn*this.velocity*t),this.object.translateZ(this.velocity)}createObject(){const t=new P,e=new w(10.6,4,4),r=new f({color:3355443}),i=new l(e,r);i.position.z=5.5;const a=new w(10.6,4,4),s=new f({color:3355443}),x=new l(a,s);x.position.z=-5.5;const z=new w(10,5,20),L=new f({color:2271812}),b=new l(z,L);b.position.y=2,b.castShadow=!0;const S=new w(8,5,10),W=new f({color:16777215}),g=new l(S,W);return g.position.y=7,g.position.z=-1,t.add(i),t.add(x),t.add(b),t.add(g),t.position.y=2,t}}const M=new O(-100,200,200),h=new E({antialias:!0,canvas:document.querySelector("canvas")});h.setPixelRatio(window.devicePixelRatio);h.setSize(window.innerWidth,window.innerHeight);h.shadowMap.enabled=!0;h.shadowMap.type=G;const y=new k,c=V();$(y);const T=X();y.add(T);const m=new H;y.add(m.object);Y(y);const _=new C;window.requestAnimationFrame(function n(){window.requestAnimationFrame(n);const t=_.getDelta();m.update(t),F.to(c.position,{x:m.object.position.x+M.x,y:m.object.position.y+M.y,z:m.object.position.z+M.z,duration:1}),h.render(y,c)});window.addEventListener("resize",function(){const n=window.innerWidth/window.innerHeight,t=200,e=t/n;c.left=t/-2,c.right=t/2,c.top=e/2,c.bottom=e/-2,c.updateProjectionMatrix(),h.setSize(window.innerWidth,window.innerHeight)});function V(){const n=window.innerWidth/window.innerHeight,t=200,e=t/n,r=new D(t/-2,t/2,e/2,e/-2);return r.position.set(-100,200,200),r.lookAt(0,0,0),r}function X(){const n=new I(1e3,1e3),t=new v({color:4473924}),e=new l(n,t);return e.rotateX(-Math.PI/2),e.receiveShadow=!0,e}function $(n){const t=new B(16777215,.5);n.add(t);const e=new K(16777215,.7);e.position.set(100,300,50),e.castShadow=!0,e.shadow.mapSize.width=4096,e.shadow.mapSize.height=4096,e.shadow.camera.left=-1e3,e.shadow.camera.right=1e3,e.shadow.camera.top=1e3,e.shadow.camera.bottom=-1e3,e.shadow.camera.near=.5,e.shadow.camera.far=500,n.add(e)}function Y(n){for(let t=0;t<100;t++){const e=(Math.random()-.5)*1500,r=(Math.random()-.5)*1500,i=Math.random()*Math.PI*2,a=3+Math.random()*10,s=U(e,r,a);s.rotation.y=i,n.add(s)}}function U(n,t,e){const r=new w(e,e,e),i=new v({color:11184810}),a=new l(r,i);return a.castShadow=!0,a.position.set(n,e/2,t),a}
